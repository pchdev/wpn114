add_executable(wpn114 main.cpp)
target_include_directories(wpn114 PUBLIC ${WPN114_INCLUDES})

if(WPN_AUDIO)
    message("WPN114: Building wpn114 with audio features")
    add_subdirectory(audio)
    target_link_libraries(wpn114 wpn114audio)
    if(WPN_PLUGINS_AMBISONICS)
        target_link_libraries(wpn114 ambisonics)
    endif()
    if(WPN_PLUGINS_ASH)
        target_link_libraries(wpn114 ash)
    endif()
    if(WPN_PLUGINS_BURSTS)
        target_link_libraries(wpn114 bursts)
    endif()
    if(WPN_PLUGINS_FIELDS)
        target_link_libraries(wpn114 fields)
    endif()
    if(WPN_PLUGINS_GRANARY)
        target_link_libraries(wpn114 granary)
    endif()
    if(WPN_PLUGINS_VBAP)
        target_link_libraries(wpn114 vbap)
    endif()
    if(WPN_PLUGINS_VST)
        target_link_libraries(wpn114 wpn114vst)
    endif()
else()
    message("WPN114: Building wpn114 without audio features")
endif()

if(WPN_CONTROL)
    message("WPN114: Building wpn114 with control features")
    add_subdirectory(control)
    target_link_libraries(wpn114 wpn114control)
    if(WPN_CONTROL_PUSH)
        target_link_libraries(wpn114 wpn114push)
    endif()
else()
    message("WPN114: Building wpn114 without control features")
endif()

if(WPN_COMMAND_LINE)
    message("WPN114: Building wpn114 with command-line features")
    add_subdirectory(command)
    #target_link_libraries(wpn114 wpn114command)
else()
    message("WPN114: Building wpn114 without command-line features")
endif()

if(WPN_OSSIA)
    add_definitions(-DWPN_OSSIA)
    target_include_directories(wpn114 PUBLIC ${CMAKE_SOURCE_DIR}/dependencies/libossia/OSSIA)
    target_link_libraries(wpn114 ossia)
endif()
